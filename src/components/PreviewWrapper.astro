---
import ComponentPreview from './ComponentPreview.astro'
import PreviewBreakpoints from './PreviewBreakpoints.astro'
import PreviewView from './PreviewView.astro'
import PreviewRefs from './PreviewRefs.astro'
import PreviewDirection from './PreviewDirection.astro'
import PreviewCopy from './PreviewCopy.astro'

const breakpoints = [
  { name: 'Mobile', emoji: 'ğŸ“±', width: '340px' },
  { name: 'Small', emoji: 'ğŸ›', width: '640px' },
  { name: 'Medium', emoji: 'ğŸ¦­', width: '768px' },
  { name: 'Large', emoji: 'ğŸ´', width: '1024px' },
  { name: 'Full', emoji: 'ğŸŒ•', width: '100%' },
]

interface Props {
  title: string
  category: string
  slug: string
  wrapper: string
  index: number
  contributors: string[]
  plugins?: string[]
  dark: boolean
}

const { title, category, slug, wrapper, index, dark, contributors, plugins } = Astro.props

const src = dark
  ? `/components/${category}/${slug}/${index}-dark.html`
  : `/components/${category}/${slug}/${index}.html`
---

<div class="space-y-4">
  <div class="flex items-center gap-2">
    <PreviewView src={src} />
    <PreviewDirection src={src} />
    <PreviewCopy src={src} />

    <PreviewBreakpoints src={src} breakpoints={breakpoints} />
  </div>

  <ComponentPreview src={src} index={index} title={title} wrapper={wrapper} dark={dark} />

  <PreviewRefs title="Contributors" url="https://github.com/" refs={contributors} />
  <PreviewRefs title="Plugins" url="https://www.npmjs.com/package/" refs={plugins || []} />
</div>
